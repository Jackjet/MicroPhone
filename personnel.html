<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	<title>云企云通讯平台</title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<script src="js/mui.min.js"></script>
	<link href="css/mui.css" rel="stylesheet"/>
	<link href="css/common.css" rel="stylesheet"/>
	<link href="css/style.css" rel="stylesheet"/>
	
	<style type="text/css">
		.mui-table-view li[dataid="on"] {
			background:#eee;
		}
		
	</style>
</head>
<body>

<!--container-->
<div class="mui-container margin-top">
<div class="mui-content">
	<div class="tab-menu">
		<div id="segmentedControl" class="mui-segmented-control mui-segmented-control-inverted mui-segmented-control-primary">
			<a class="mui-control-item mui-active" href="#item1">通讯录</a>
			<a class="mui-control-item" href="#item2">输入号码</a>
		</div>
	</div>
			
			<!--通讯录-->	
<div id="item1" class="mui-control-content mui-active">

	<div class="mui-scroll content-height">
		<div class="personnel"> 
			<h4 class="mail-title"><i class="icon iconfont icon-cop"></i>企业通讯录</h4>
			<ul class="mui-table-view">
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
			</ul>	 

			<h4 class="mail-title"><i class="icon iconfont icon-tongxunlu"></i>个人通讯录</h4>

			<ul class="mui-table-view">	    
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
				<li class="mui-table-view-cell">
					<h4>李小明<label class="mui-checkbox"><input name="checkbox1" value="Item 1" type="checkbox"></label></h4>
				</li>
			</ul>
		</div>
	</div>

</div>
				
<!--输入号码-->
	<div id="item2" class="mui-control-content">
		<form class="mui-input-group form-group form-fixd">
		<div class="invite">
		    <div class="mui-input-row mui-clearfix">
		    	<div class="row-left">
			        <label><span class="icon iconfont icon-shouji"></span></label>
			        <input type="tel" placeholder="请输入被叫号码" pattern="(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$" id="tel-value">
		        </div>
		        <button type="button" class="mui-btn mui-btn-primary invite-btn" id="obtn">邀请</button>
		    </div>
		</div>
		</form>	

		<div class="item2-scroll content-height-top-130">
			<ul class="mui-table-view enternumber" id="ul">
				<!-- <li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn  mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn  mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn  mui-btn-outlined cancel">取消</button>
				</li>
				<li class="mui-table-view-cell">
					<span>13498934589</span>
					<button type="button" class="mui-btn  mui-btn-outlined cancel">取消</button>
				</li> -->
				
				<p id="hint" class="hint" style="color:rgba(51,51,51,0.5);padding:0 15px;font-size: 16px;">
					邀请分机格式：<span style="color:#3BB7F7">0755</span>xxxxxxx<span style="color:#3BB7F7">#</span>xxx<br />
					座机格式(需要区号)：<span style="color:#3BB7F7">0755</span>xxxxxxxx<br />
					手机号直接输入即可：xxxxxxxxxxx 
				</p>
				
			</ul>
		</div>
	</div>
</div>
<!--mui-content the end-->
	
</div>
<!--container the end-->
<div class="add-fixed">
	<div class="submit-button button-top" onclick="location='meetingstate.html'">
		<input type="button" class="mui-btn mui-btn-primary mui-btn-block add-submit" value="确认、已选择(8人)" id="confirm">
	</div>
</div>



<script>
	var oVal=document.getElementById('tel-value');   //input框
	var oBtn=document.getElementById('obtn');		//邀请
	var oUl=document.getElementById('ul');          //ul

	oBtn.onclick=function(){

		var sVal = oVal.value;          //获取input框的值
		
		if(!(/^1[3|5|7|8][0-9]\d{4,8}$/.test(sVal))){ 
			mui.alert('请输入正确的手机号码', function() {
                   // info.innerText = '你刚关闭了警告框';
                });
			return false;
		}

		var oLi=document.createElement('li');  //创建li
		oLi.className="mui-table-view-cell";   //并且添加class

		//li里添加标签
		oLi.innerHTML+='<span>'+sVal+'</span><button type="button" class="mui-btn  mui-btn-outlined cancel">取消</button>';

		var oLi1=oUl.getElementsByTagName('li');  //获取ul下的所有li标签

		/*if(oLi1.lenth>0){
			oUl.insertBefore(oLi, oLi1[0]);
		}else{
			oUl.appendChild(oLi);
		}*/
		oUl.insertBefore(oLi, oLi1[0]);  //添加到ul里的li最前面

		oVal.value='';  //提交后清空input框

		if(oLi1.length>0){
			document.getElementById('hint').style.display='none';
		}
		else if(oLi1.length==0){
			document.getElementById('hint').style.display='block';
			alert(111);
		}

		var aButton=document.querySelectorAll('#ul button'); //获取ul下的所有buttton标签
		for(var i=0;i<aButton.length;i++){
			aButton[i].onclick=function(){
				oUl.removeChild(this.parentNode);
			}
		}
		

	}

var ckbox=document.querySelectorAll('.mui-checkbox input'); //获取ul下的所有input标签
//console.log(ckbox);
for(var i=0;i<ckbox.length;i++){
	ckbox[i].onclick=function(){
		var _this_parents="";
		_this_parents=this.parentNode.parentNode.parentNode;
		_this_parents.setAttribute('dataid','on');
		setTimeout(function(){
			_this_parents.removeAttribute('dataid');
		},100);
	}
}

</script>

</body>
</html>